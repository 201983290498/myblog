<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
                            http://www.springframework.org/schema/context  http://www.springframework.org/schema/context/spring-context.xsd">

    <!--    只能使用一次-->
    <context:property-placeholder location="classpath:application.properties"/>


    <!--    开启注解扫描-->
    <context:annotation-config/>


    <!--    Spring工厂的扫描-->
    <context:component-scan base-package="com.coder.blog">
        <context:exclude-filter type="annotation" expression="org.springframework.stereotype.Controller"/>
        <context:exclude-filter type="assignable" expression="com.coder.blog.config.SpringMvcConfig"/>
    </context:component-scan>


    <bean id="shiroFilter" class="org.apache.shiro.spring.web.ShiroFilterFactoryBean">
        <property name="securityManager" ref="securityManager" />
        <!-- loginUrl：没有登录的用户请求需要登录的页面时自动跳转到登录页面，不是必须的属性，不输入地址的话会自动寻找项目web项目的根目录下的”/login.jsp”页面。 -->
        <property name="loginUrl" value="/login" />

        <!-- successUrl：登录成功默认跳转页面，不配置则跳转至”/”。如果登陆前点击的一个需要登录的页面，则在登录自动跳转到那个需要登录的页面。不跳转到此。 -->
        <property name="successUrl" value="/main" />

        <!-- unauthorizedUrl：没有权限默认跳转的页面。 -->
        <property name="unauthorizedUrl" value="/login" />
        <property name="filterChainDefinitions">
            <value>
                /css/**= anon
                /fonts/**= anon
                /images/**= anon
                /js/**= anon
                /error/** =anon
                /page/** = anon
                /login = anon
                /checkLogin = anon
                /index.jsp =anon
                /login.jsp = anon
                <!-- 直接加载项目名时 -->
                / = anon
                /admin/** = authc
            </value>
        </property>
    </bean>
</beans>